'use client';
import {useRef} from 'react';
import HomeHero from '@/components/home/HomeHero';
import {useScrollReveal} from '@/hooks/useScrollReveal';
export default function ClientUseRef({custom_fields}: any) {
  const digitalCityRef = useRef<HTMLDivElement>(null);
  
  const scrollToDigitalCity = () => {
    // 2. Trong hàm này, bạn truy cập đến phần tử DOM thông qua digitalCityRef.current
    // và gọi phương thức scrollIntoView.
    // Luôn kiểm tra digitalCityRef.current có tồn tại (không null) trước khi sử dụng.
    if (digitalCityRef.current) {
      digitalCityRef.current.scrollIntoView({ behavior: 'smooth' }); // 'smooth' cho hiệu ứng cuộn mượt mà
    } else {
      // (Tùy chọn) Thêm console.warn để dễ debug nếu ref không được gán đúng
      console.warn('digitalCityRef is not available to scroll to. Make sure the ref is correctly attached to the target DOM element.');
    }
  };


  useScrollReveal(); // dùng mặc định `.boxanimation`
  const {field_1, field_2, field_3, field_4} = custom_fields || {};
  return (
    <>
      <HomeHero onScrollToDigitalCity={scrollToDigitalCity} />
      <div ref={digitalCityRef} className="boxanimation relative bg-no-repeat bg-position-[0_-75px] bg-size-[20%_60%] xl:bg-size-[15%_75%] lg:bg-size-[10%_60%] 2xl:bg-size-[contain]">
        <svg
          className="hidden md:block border-circle-right absolute top-[-10%] 2xl:top-[-100px] left-0 -translate-x-[50%] overflow-x-hidden max-w-[25%] h-auto"
          width="528.46"
          height="523.07"
          id="Layer_1"
          data-name="Layer 1"
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 528.46 523.07"
        >
          <circle
            className="cls-1 animate-half-circle origin-[50%_50%]!"
            cx="197.13"
            cy="257.42"
            r="2.1"
          />
          <circle
            className="cls-1 animate-half-circle origin-[50%_50%]!"
            cx="202.49"
            cy="360.51"
            r="2.1"
          />
          <circle
            className="cls-1 animate-half-circle origin-[50%_50%]!"
            cx="223.34"
            cy="202.17"
            r="2.1"
          />
          <circle
            className="cls-1 animate-half-circle origin-[50%_50%]!"
            cx="258.28"
            cy="166.55"
            r="2.1"
          />
          <circle
            className="cls-1 animate-half-circle origin-[50%_50%]!"
            cx="200.32"
            cy="206.37"
            r="2.1"
          />
          <circle
            className="cls-1 animate-half-circle origin-[50%_50%]!"
            cx="171.64"
            cy="226.48"
            r="2.1"
          />
          <circle
            className="cls-1 animate-half-circle origin-[50%_50%]!"
            cx="183.96"
            cy="267.14"
            r="2.1"
          />
          <circle
            className="cls-1 animate-half-circle origin-[50%_50%]!"
            cx="139.68"
            cy="239.82"
            r="2.1"
          />
          <path
            className="cls-1 animate-half-circle origin-[50%_50%]!"
            d="M184.48,269.26l-1-.04c.06-1.32.16-2.7.31-4.2,2.5-25.35,16.15-48.04,37.43-62.24,1.08-.73,2.25-1.47,3.56-2.25l.51.86c-1.3.78-2.45,1.51-3.52,2.23-21.03,14.03-34.52,36.45-36.99,61.5-.15,1.48-.25,2.84-.31,4.14Z"
          />
          <path
            className="cls-1 animate-half-circle origin-[50%_50%]!"
            d="M199.71,207.83c-.23.25-.58.3-.79.11s-.18-.54.04-.78c0,0,1.45-1.57,2.48-2.61,17.81-18.03,41.57-27.96,66.91-27.96,22.84,0,44.87,8.29,62.02,23.33,1.18,1.05,2.65,2.44,2.65,2.44.24.23.29.58.09.78s-.55.17-.79-.06c0,0-1.45-1.37-2.62-2.41-16.97-14.89-38.76-23.08-61.36-23.08-25.07,0-48.58,9.82-66.19,27.66-1.02,1.03-2.45,2.58-2.45,2.58Z"
          />
          <path
            className="cls-1 animate-half-circle origin-[50%_50%]!"
            d="M171.19,228.46l-.91-.42c.66-1.41,1.27-2.64,1.86-3.76,16.67-32.16,48.05-53.78,83.94-57.81,1.33-.16,2.69-.3,4.16-.4l.07,1c-1.45.1-2.8.23-4.11.4-35.56,4-66.65,25.42-83.17,57.28-.58,1.11-1.19,2.32-1.84,3.72Z"
          />
          <path
            className="cls-1 animate-half-circle origin-[50%_50%]!"
            d="M166.65,355.81c-.95-1.13-1.82-2.2-2.65-3.26-18.51-23.55-28.3-51.87-28.3-81.9,0-9.62,1.04-19.24,3.08-28.57.32-1.46.64-2.8.97-4.1l.97.25c-.33,1.28-.65,2.61-.97,4.06-2.03,9.26-3.06,18.8-3.06,28.35,0,29.8,9.71,57.9,28.08,81.28.83,1.06,1.69,2.12,2.63,3.24l-.77.64Z"
          />
          <path
            className="cls-1 animate-half-circle origin-[50%_50%]!"
            d="M268.35,417.18c-29.69,0-58.18-8.98-82.4-25.96-23.68-16.61-41.63-39.61-51.89-66.52-.49-1.31-.97-2.62-1.43-3.95l.94-.33c.46,1.32.94,2.62,1.43,3.92,10.2,26.72,28.01,49.56,51.53,66.06,24.05,16.87,52.35,25.78,81.83,25.78,33.44,0,65.95-11.8,91.54-33.23,1.08-.9,2.13-1.8,3.18-2.73l.66.75c-1.05.93-2.12,1.85-3.2,2.75-25.77,21.58-58.5,33.47-92.18,33.47Z"
          />
          <path
            className="cls-1 animate-half-circle origin-[50%_50%]!"
            d="M268.43,442.31c-93.09,0-168.82-75.73-168.82-168.82,0-57.78,29.07-110.94,77.76-142.19,1.17-.75,2.37-1.49,3.57-2.23l.52.85c-1.2.73-2.38,1.47-3.55,2.21-48.4,31.07-77.3,83.91-77.3,141.35,0,92.54,75.28,167.82,167.82,167.82,9.17,0,18.34-.74,27.24-2.2,1.5-.24,2.84-.48,4.11-.73l.19.98c-1.29.25-2.64.49-4.15.73-8.96,1.47-18.17,2.22-27.4,2.22Z"
          />
          <path
            className="cls-1 animate-half-circle origin-[50%_50%]!"
            d="M55.39,399.16c-.73-1.19-1.45-2.4-2.15-3.61-23.83-40.93-35.37-87.7-33.39-135.25,1.81-43.58,15.04-85.97,38.25-122.6,22.52-35.54,53.92-65.02,90.82-85.26,1.23-.68,2.48-1.34,3.72-1.99l.46.89c-1.24.65-2.47,1.31-3.7,1.98-36.75,20.16-68.03,49.52-90.46,84.92-23.11,36.48-36.29,78.7-38.09,122.11-1.98,47.36,9.52,93.94,33.25,134.71.7,1.21,1.41,2.4,2.13,3.59l-.85.52Z"
          />
          <circle
            className="cls-1 animate-half-circle origin-[50%_50%]!"
            cx="165.79"
            cy="353.8"
            r="2.1"
          />
          <circle
            className="cls-1 animate-half-circle origin-[50%_50%]!"
            cx="133.81"
            cy="322.55"
            r="2.1"
          />
          <path
            className="cls-1 animate-half-circle origin-[50%_50%]!"
            d="M340.8,258.31h0c-.03-.25-.23-.45-.49-.45-.28,0-.5.23-.5.5,0,.05.01.09.03.14h0c.94,4.74,1.42,9.58,1.42,14.39,0,40.08-32.61,72.7-72.7,72.7s-72.69-32.61-72.69-72.7c0-4.66.44-9.32,1.32-13.85l-.98-.19c-.89,4.59-1.34,9.32-1.34,14.04,0,40.64,33.06,73.7,73.69,73.7s73.7-33.06,73.7-73.7c0-4.88-.49-9.79-1.44-14.58Z"
          />
          <circle
            className="cls-1 animate-half-circle origin-[50%_50%]!"
            cx="131.13"
            cy="232.21"
            r="2.1"
          />
          <circle
            className="cls-1 animate-half-circle origin-[50%_50%]!"
            cx="363.38"
            cy="380.61"
            r=".5"
          />
          <path
            className="cls-1 animate-half-circle origin-[50%_50%]!"
            d="M393.8,203.37h0c-.63-1.14-1.32-2.33-2.11-3.63-12.54-20.93-30.33-38.45-51.44-50.68-21.75-12.6-46.62-19.26-71.9-19.26-31.14,0-60.77,9.8-85.69,28.33-24.43,18.18-42.18,43.05-51.32,71.93-.42,1.33-.83,2.68-1.21,4.04l.96.27c.38-1.34.79-2.68,1.21-4,9.08-28.68,26.7-53.38,50.96-71.43,24.74-18.4,54.16-28.13,85.09-28.13,25.11,0,49.8,6.61,71.4,19.12,20.96,12.14,38.62,29.54,51.08,50.33.78,1.3,1.46,2.48,2.09,3.61h0c.09.15.24.26.43.26.28,0,.5-.23.5-.5,0-.09-.03-.17-.07-.24Z"
          />
          <circle
            className="cls-1 animate-half-circle origin-[50%_50%]!"
            cx="179.37"
            cy="130.51"
            r="2.1"
          />
          <circle
            className="cls-1 animate-half-circle origin-[50%_50%]!"
            cx="299.81"
            cy="438.88"
            r=".5"
          />
          <circle
            className="cls-1 animate-half-circle origin-[50%_50%]!"
            cx="95.46"
            cy="227.68"
            r="2.1"
          />
          <circle
            className="cls-1 animate-half-circle origin-[50%_50%]!"
            cx="105.54"
            cy="347.3"
            r="2.1"
          />
          <path
            className="cls-1 animate-half-circle origin-[50%_50%]!"
            d="M447.95,287.69c0-.28-.23-.5-.5-.5-.26,0-.46.19-.49.44h0c-.13,1.39-.28,2.77-.44,4.16-5.27,44.8-27.1,85.68-61.48,115.13-34.56,29.6-78.63,44.87-124.13,42.97-66.05-2.76-125.05-41.43-153.97-100.92-.61-1.26-1.21-2.52-1.79-3.79l-.91.42c.58,1.27,1.18,2.55,1.8,3.81,29.08,59.82,88.41,98.71,154.83,101.48,2.54.11,5.07.16,7.6.16,43.03,0,84.4-15.25,117.23-43.36,34.57-29.61,56.53-70.73,61.83-115.78.16-1.39.31-2.79.44-4.18h0s0-.02,0-.03Z"
          />
          <path
            className="cls-1 animate-half-circle origin-[50%_50%]!"
            d="M377.06,243.61c-.36-1.45-.72-2.78-1.09-4.06-.07-.19-.25-.32-.47-.32-.28,0-.5.23-.5.5,0,.03.01.05.02.08h0c.37,1.28.73,2.59,1.08,4.03,2.53,10.21,3.6,20.77,3.16,31.41-2.48,59.58-51.74,106.37-110.84,106.37-1.55,0-3.11-.03-4.67-.1-21.39-.88-41.89-7.85-59.3-20.15-1.15-.8-2.28-1.63-3.37-2.48l-.61.79c1.1.85,2.25,1.7,3.41,2.5,17.56,12.41,38.25,19.44,59.83,20.33,1.59.07,3.18.1,4.77.1,28.15,0,54.88-10.4,75.71-29.58,22.01-20.25,34.82-47.87,36.07-77.75.44-10.73-.63-21.39-3.18-31.69Z"
          />
          <circle
            className="cls-1 animate-half-circle origin-[50%_50%]!"
            cx="206.19"
            cy="466.24"
            r="2.1"
          />
          <circle
            className="cls-1 animate-half-circle origin-[50%_50%]!"
            cx="214.15"
            cy="480.97"
            r="2.1"
          />
          <path
            className="cls-1 animate-half-circle origin-[50%_50%]!"
            d="M395.17,148.01h0s-.03-.04-.04-.05c0,0-.01-.01-.02-.02-.98-.97-1.96-1.93-2.96-2.87-31.51-29.95-72.82-47.44-116.31-49.26-41.06-1.71-80.28,10.17-113.4,34.36-32.15,23.47-55.88,57.34-66.84,95.37-.38,1.34-.76,2.7-1.11,4.06l.97.25c.35-1.36.73-2.7,1.11-4.04,10.89-37.81,34.5-71.49,66.47-94.83,32.94-24.05,71.94-35.87,112.77-34.16,43.25,1.8,84.33,19.2,115.67,48.98.99.93,1.96,1.89,2.94,2.85.01.01.02.02.03.03.01.01.03.02.04.04h0c.08.05.18.1.29.1.28,0,.5-.23.5-.5,0-.11-.04-.21-.11-.29Z"
          />
          <path
            className="cls-1 animate-half-circle origin-[50%_50%]!"
            d="M294.2,54.81c0-.23-.16-.41-.36-.48h0s-.09-.02-.13-.03c0,0,0,0,0,0,0,0,0,0,0,0-1.34-.16-2.68-.31-4.03-.44-4.15-.4-8.27-.69-12.24-.85-58.12-2.41-113.73,17.94-156.54,57.33-42.82,39.39-67.73,93.1-70.16,151.23-2.07,49.71,13.1,99.04,42.72,138.9,29.19,39.28,71.15,67.87,118.14,80.51,1.34.36,2.7.71,4.06,1.04l.24-.97c-1.36-.33-2.7-.68-4.04-1.04-46.77-12.58-88.53-41.04-117.59-80.14-29.49-39.67-44.59-88.77-42.53-138.26,2.41-57.87,27.21-111.33,69.83-150.54,42.62-39.21,97.97-59.49,155.83-57.07,3.95.16,8.05.45,12.18.85,1.38.13,2.75.28,4.11.44,0,0,0,0,.01,0,0,0,0,0,0,0,0,0,0,0,.01,0h0c.27-.01.48-.23.48-.5Z"
          />
          <path
            className="cls-1 animate-half-circle origin-[50%_50%]!"
            d="M458.94,348.18c0-.28-.23-.5-.5-.5-.22,0-.4.14-.47.33-.52,1.29-1.06,2.57-1.61,3.85-16.25,37.61-43.16,69.21-77.82,91.38-35.45,22.67-76.48,33.73-118.7,31.97-17.54-.73-34.87-3.68-51.51-8.77-1.34-.41-2.66-.83-3.99-1.27l-.31.95c1.33.44,2.67.86,4.01,1.27,16.73,5.11,34.14,8.07,51.77,8.81,2.92.12,5.83.18,8.74.18,39.32,0,77.37-11.09,110.54-32.31,34.83-22.28,61.87-54.03,78.2-91.82.56-1.28,1.1-2.58,1.62-3.87.03-.06.05-.13.05-.21Z"
          />
          <circle
            className="cls-1 animate-half-circle origin-[50%_50%]!"
            cx="218.25"
            cy="37.92"
            r="2.1"
          />
          <path
            className="cls-1 animate-half-circle origin-[50%_50%]!"
            d="M443.78,109.25c-43.11-46.86-101.89-74.12-165.51-76.77-19.45-.81-38.88.74-57.74,4.59-1.38.27-2.76.56-4.13.87l.22.98c1.36-.31,2.72-.6,4.1-.87,18.78-3.84,38.13-5.38,57.5-4.57,63.35,2.64,121.88,29.79,164.81,76.45,42.93,46.66,65.12,107.25,62.48,170.6-2.34,56.3-24.68,110.03-62.91,151.3-.91,1-1.85,1.99-2.79,2.98-.01,0-.02.02-.03.03-.01.01-.03.03-.04.04h0c-.06.09-.1.18-.1.29,0,.28.23.5.5.5.11,0,.22-.05.3-.11h0s.02-.02.04-.03c0,0,.01-.02.02-.02.95-.99,1.9-2,2.82-3,38.39-41.45,60.82-95.41,63.17-151.94,2.65-63.62-19.63-124.46-62.74-171.32Z"
          />
          <circle
            className="cls-1 animate-half-circle origin-[50%_50%]!"
            cx="54.71"
            cy="397.12"
            r="2.1"
          />
          <circle
            className="cls-1 animate-half-circle origin-[50%_50%]!"
            cx="150.99"
            cy="51.82"
            r="2.1"
          />
          <circle
            className="cls-1 animate-half-circle origin-[50%_50%]!"
            cx="74.46"
            cy="97.94"
            r="2.1"
          />
          <path
            className="cls-1 animate-half-circle origin-[50%_50%]!"
            d="M459.76,94.55c-47.04-51.13-111.17-80.87-180.58-83.76-77.16-3.21-151.29,27.75-203.33,84.95-.94,1.03-1.87,2.08-2.8,3.14l.75.66c.93-1.05,1.86-2.1,2.8-3.12C128.43,39.43,202.24,8.58,279.14,11.78c69.14,2.88,133.03,32.51,179.88,83.44,46.86,50.93,71.08,117.06,68.2,186.21-2.01,48.27-17.35,94.81-44.36,134.58-26.27,38.68-62.5,69.59-104.79,89.4-1.26.59-2.52,1.17-3.79,1.73-.19.07-.32.25-.32.47,0,.28.23.5.5.5.08,0,.15-.02.21-.05,1.28-.57,2.55-1.15,3.82-1.75,42.45-19.88,78.82-50.91,105.19-89.74,27.11-39.93,42.51-86.64,44.53-135.1,2.89-69.42-21.43-135.8-68.46-186.93Z"
          />
          <circle
            className="cls-1 animate-half-circle origin-[50%_50%]!"
            cx="2.1"
            cy="225.84"
            r="2.1"
          />
          <path
            className="cls-1 animate-half-circle origin-[50%_50%]!"
            d="M289.44.82s0,0,0,0c-1.36-.1-2.73-.2-4.1-.28-1.89-.12-3.8-.22-5.71-.3-65.91-2.74-130.4,18.59-181.59,60.08C47.29,101.43,13.14,159.31,1.85,223.3c-.24,1.37-.47,2.76-.69,4.15l.99.16c.22-1.39.45-2.76.69-4.13,11.24-63.75,45.27-121.42,95.83-162.38C149.67,19.76,213.91-1.51,279.58,1.23c1.91.08,3.8.18,5.69.3,1.37.08,2.74.18,4.09.28h0s.05,0,.07,0c.28,0,.5-.23.5-.5s-.23-.5-.5-.5Z"
          />
          <circle
            className="cls-1 animate-half-circle origin-[50%_50%]!"
            cx="183.67"
            cy="507.87"
            r="2.1"
          />
          <path
            className="cls-1 animate-half-circle origin-[50%_50%]!"
            d="M456.42,439.01c.06-.08.11-.18.11-.3,0-.28-.23-.5-.5-.5-.15,0-.28.07-.37.17-.92,1.04-1.85,2.06-2.79,3.08-50.2,54.17-121.25,83.47-194.97,80.4-24.48-1.02-48.52-5.54-71.46-13.43-1.25-.43-2.49-.87-3.74-1.32l-.2-.07-.16.45h0s0-.49,0-.49h-.34s-.25.63-.25.63l.24.24.38.19c1.25.45,2.5.89,3.75,1.32,23.03,7.93,47.17,12.47,71.74,13.49,3.53.15,7.05.22,10.57.22,70.19,0,137.18-29.15,185.18-80.94.93-1.01,1.86-2.02,2.77-3.05.01,0,.02-.02.03-.03,0-.01.02-.02.03-.03h0Z"
          />
        </svg>
        <div>
          <div className="mx-auto max-w-[90%] md:max-w-[85%] 2xl:max-w-[1058px]">
            <div className="relative mx-auto flex items-center justify-center">
              <div className="text-center max-w-[836px] 2xl:max-w-[1088px]">
                <p className="text-[16px] sm:text-[20px] 2xl:text-[28px] mt-[50px] 2xl:mt-[60px] text-gray-1 fade-in-left-short">
                  {field_1}
                </p>
                <h2 className="text-[22px] lg:text-[28px] 2xl:text-[45px] font-bold text-yellow-1 mt-[5px] mb-[5px] fade-in-left-short">
                  {field_2.endsWith('★') ? (
                          <>
                            {field_2.slice(0, -1)}
                            <span className="star-icon relative inline-block text-[15px] top-[-5px] md:text-[18px] 2xl:text-[25px] md:top-[-7px] 2xl:top-[-14px]">★</span>
                          </>
                        ) : (
                          field_2
                  )}
                </h2>
                <p className="text-[16px] sm:text-[20px] 2xl:text-[28px] mb-[20px] 2xl:mb-[50px] text-gray-1 fade-in-left-short">
                  {field_3}
                </p>
                <div
                  className="text-justify md:text-center text-[13px] 2xl:text-[17px] mb-[35px] md:mb-[42px] text-gray-5 leading-[22px] 2xl:leading-[28px] fade-in-left-short"
                  dangerouslySetInnerHTML={{__html: field_4}}
                ></div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </>
  );
}
